import{r as C,a as w,_ as r,$ as y,b as g}from"./index-75c887b9.js";const N=window.Vue.unref,I=window.Vue.renderList,L=window.Vue.Fragment,d=window.Vue.openBlock,u=window.Vue.createElementBlock,c=window.Vue.toDisplayString,t=window.Vue.createElementVNode,$=window.Vue.resolveComponent,f=window.Vue.createVNode,h=window.Vue.createCommentVNode,z=window.Vue.normalizeStyle,B={class:"_full _bor_2 _por _ph_4 _pb_100 _bc_black _of_y_auto _of_x_hidden"},E={class:"_fx_cc _fx_1 _por"},S={class:"_fs_14_bold_gold _fx_r _mb_6"},D={class:"_fs_12_888888 _pl_14 _fx_wrap _hmax_100 _of_auto"},q={class:"_fx_rb _mt_6 _bot_1_ffffff15"},M={class:"_fs_10_ffffff90 _fx_r"},F={key:0,class:"_ml_10 _c_gold"},O={class:"_fx_r _ml_20"},W=t("div",{class:"_c_gold"},c("↑"),-1),A={class:"_fs_8 _ml_2"},J={key:1,class:"_fx_r _ml_10"},j=t("div",{class:"_c_gold"},c("⌘"),-1),P={class:"_fs_8 _ml_2"},G={class:"_pof_b0_l0 _wf_40_61afef _fx_rc _w_300"},H=t("div",{class:"_ml_10"},"新增",-1),R={__name:"index",setup(K){const _=C([]),p={label:"规则",fields:[{label:"名称",name:"name",value:{type:"text"}},{label:"快捷键",name:"key",value:{type:"text"}},{label:"命令",name:"command",value:{type:"code",height:200}},{label:"排序",name:"sort",value:{type:"number",required:!1,default:100}},{label:"光标单词",name:"cursorWord",value:{type:"true",required:!1,default:!1}}]},n=window.acquireVsCodeApi&&acquireVsCodeApi();n==null||n.postMessage({type:"initList"}),window.addEventListener("message",e=>{const s=e.data;s.type==="setList"&&(_.value=s.list)});const m=()=>{n==null||n.postMessage({type:"updateList",list:JSON.parse(JSON.stringify(_.value))})},b=()=>{w.detail.showCreate({pageData:p,create:({params:e,dialog:s})=>{if(r.find(_.value,(l,o)=>l.name===e.name&&i!=o))return y("名称已经存在");_.value.push(e),_.value=r.orderBy(_.value,"sort","desc"),m(),s.close()}})},x=e=>{w.detail.showModify({pageData:p,record:_.value[e],modify:({params:s,dialog:l})=>{if(r.find(_.value,(o,a)=>o.name===s.name&&e!=a))return y("名称已经存在");Object.assign(_.value[e],r.omit(s,"id")),_.value=r.orderBy(_.value,"sort","desc"),m(),l.close()}})},V=async e=>{await g("删除后不可恢复，确定要删除吗?")&&(_.value.splice(e,1),m())},k=e=>{n==null||n.postMessage({type:"execItem",index:e})};return(e,s)=>{const l=$("Icon");return d(),u("div",B,[(d(!0),u(L,null,I(N(_),(o,a)=>(d(),u("div",{key:a,class:"_fx_r_a0 _mt_10 _pb_10 _bob_ffffff40"},[t("div",E,[t("div",S,c(o.name),1),t("div",D,c(o.command),1),t("div",q,[t("div",M,[f(l,{class:"_button _ml_10",icon:"Edit",size:12,color:"white",onClick:v=>x(a)},null,8,["onClick"]),f(l,{class:"_button _ml_10",icon:"Delete",size:12,color:"#F56C6C",onClick:v=>V(a)},null,8,["onClick"]),o.cursorWord&&!o.exec?(d(),u("div",F,"W")):h("",!0),t("div",O,[W,t("div",A,c(o.sort),1)]),o.key?(d(),u("div",J,[j,t("div",P,c(o.key),1)])):h("",!0)]),f(l,{class:"_button _mh_10",icon:"DocumentCopy",size:16,color:"#61afef",onClick:v=>k(a)},null,8,["onClick"])])])]))),128)),t("div",G,[t("div",{style:z(e._u("_button_white_61afef _s_100p_100p_r6 _fx_rc")),onClick:s[0]||(s[0]=o=>b())},[f(l,{class:"_ml_10 _button",icon:"CirclePlus",size:24,color:"white"}),H],4)])])}}};export{R as default};
